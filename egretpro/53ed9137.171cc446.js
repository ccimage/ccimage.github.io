(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{143:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"rightToc",(function(){return c})),t.d(n,"metadata",(function(){return b})),t.d(n,"default",(function(){return u}));var a=t(1),i=t(9),r=(t(0),t(199)),o={title:"\u52a8\u753b\u7cfb\u7edf",uuid:"c629f40d-8214-425e-81c2-9a8ce1915972"},c=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",children:[]},{value:"\u52a8\u753b\u6df7\u5408",id:"\u52a8\u753b\u6df7\u5408",children:[]},{value:"\u52a8\u753b\u878d\u5408\u6811",id:"\u52a8\u753b\u878d\u5408\u6811",children:[]},{value:"\u52a8\u753b\u9aa8\u9abc\u8499\u76ae",id:"\u52a8\u753b\u9aa8\u9abc\u8499\u76ae",children:[]},{value:"\u4f7f\u7528\u65b9\u6cd5",id:"\u4f7f\u7528\u65b9\u6cd5",children:[]},{value:"BakedAnimation",id:"bakedanimation",children:[{value:"BakedAnimation\u6570\u636e\u751f\u6210",id:"bakedanimation\u6570\u636e\u751f\u6210",children:[]},{value:"BakedAnimation\u7684\u4f7f\u7528",id:"bakedanimation\u7684\u4f7f\u7528",children:[]}]}],b={id:"guide/engine-features-animation",title:"\u52a8\u753b\u7cfb\u7edf",description:"## \u6982\u8ff0",source:"@site/docs/guide/engine-features-animation.md",permalink:"/egretpro/docs/guide/engine-features-animation",sidebar:"someSidebar",previous:{title:"\u8f93\u5165",permalink:"/egretpro/docs/guide/engine-features-input"},next:{title:"\u7f13\u52a8\u52a8\u753b",permalink:"/egretpro/docs/guide/engine-features-tween"}},l={rightToc:c,metadata:b},p="wrapper";function u(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)(p,Object(a.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"\u6982\u8ff0"},"\u6982\u8ff0"),Object(r.b)("p",null,"egret pro \u62e5\u6709\u4e30\u5bcc\u7684\u52a8\u753b\u7cfb\u7edf\uff0c\u4ed6\u63d0\u4f9b\u4e86"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u7528\u4e0d\u540c\u7684\u903b\u8f91\u52a8\u753b\u4e0d\u540c\u7684\u8eab\u4f53\u90e8\u4f4d"),Object(r.b)("li",{parentName:"ul"},"\u5206\u5c42\u548c\u5c4f\u853d\u529f\u80fd"),Object(r.b)("li",{parentName:"ul"},"\u52a8\u753b\u878d\u5408")),Object(r.b)("h2",{id:"\u52a8\u753b\u6df7\u5408"},"\u52a8\u753b\u6df7\u5408"),Object(r.b)("p",null,"\u52a8\u753b\u6df7\u5408\u662f\u5c06\u591a\u4e2a\u52a8\u753b\u8d44\u6e90\u878d\u5408\u5728\u540c\u4e00\u65f6\u95f4\u64ad\u653e\u5904\u7406\u7684\u65b9\u6cd5\u3002\n\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\u4f60\u9700\u8981\u89d2\u8272\u7684\u4e0b\u80a2\u64ad\u653e\u8d70\u8def\u7684\u52a8\u753b\uff0c\u89d2\u8272\u7684\u624b\u90e8\u9700\u8981\u4f7f\u7528\u4f60\u4e00\u4e2a\u52a8\u753b\u8d44\u6e90\u7684\u52a8\u4f5c\uff0c\u8fd9\u65f6\u5019\u4f60\u5c31\u9700\u8981\u4f7f\u7528\u52a8\u753b\u878d\u5408\u3002"),Object(r.b)("h2",{id:"\u52a8\u753b\u878d\u5408\u6811"},"\u52a8\u753b\u878d\u5408\u6811"),Object(r.b)("p",null,"\u52a8\u753b\u6811\u662f\u63a7\u5236\u591a\u4e2a\u52a8\u753b\u7684\u64ad\u653e\u987a\u5e8f\u548c\u5bf9\u9aa8\u9abc\u53d8\u6362\u6743\u91cd\u7684\u5f71\u54cd\u7684\u65b9\u5f0f\n\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\u4f60\u9700\u8981\u4f60\u7684\u89d2\u8272\u8fdb\u884c\u8d70\u8def\u548c\u8dd1\u6b65\u7684\u8fc7\u6e21\uff0c\u4f60\u5c31\u53ef\u4ee5\u4f7f\u7528\u52a8\u753b\u878d\u5408\u6811\u6765\u8fdb\u884c\u5904\u7406\u3002"),Object(r.b)("h2",{id:"\u52a8\u753b\u9aa8\u9abc\u8499\u76ae"},"\u52a8\u753b\u9aa8\u9abc\u8499\u76ae"),Object(r.b)("p",null,"\u9aa8\u9abc\u8499\u76ae\u4ee3\u8868\u7740\u54ea\u4e9b\u9aa8\u9abc\u5c06\u88ab\u52a8\u753b\u8d44\u6e90\u6240\u5f71\u54cd\u3002\n\u5f53\u4f60\u7684\u67d0\u4e2a\u52a8\u753b\u8d44\u6e90\u53ea\u9700\u8981\u5f71\u54cd\u624b\u90e8\u9aa8\u9abc\uff0c\u90a3\u5c31\u9700\u8981\u4f7f\u7528\u9aa8\u9abc\u8499\u76ae\u4e86\u3002"),Object(r.b)("h2",{id:"\u4f7f\u7528\u65b9\u6cd5"},"\u4f7f\u7528\u65b9\u6cd5"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"\u5bfc\u5165\u6a21\u578b\u4e0e\u52a8\u753b\u6587\u4ef6\u5230EgretPro\u9879\u76ee\u5f53\u4e2d")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/1.png",alt:"\u5bfc\u5165\u6a21\u578b\u793a\u4f8b"}))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"\u6253\u5f00\u6a21\u578b\u9884\u5236\u4f53\uff0c\u5728\u9884\u5236\u4f53\u6839\u8282\u70b9\u4e0a\u6dfb\u52a0\u7ec4\u4ef6@egret/animation/Animation")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/2.png",alt:"Animation\u7ec4\u4ef6\u793a\u4f8b1"}))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"autoPlay\uff1a\u8be5\u52a8\u753b\u7ec4\u4ef6\u662f\u5426\u81ea\u52a8\u64ad\u653e\uff0c\u52fe\u9009\u540e\u4f1a\u5728\u573a\u666f\u4e2d\u52a0\u5165\u8be5\u9884\u5236\u4f53\u540e\u81ea\u52a8\u5f00\u59cb\u64ad\u653e\u52a8\u753b"),Object(r.b)("li",{parentName:"ul"},"timeScale\uff1a\u52a8\u753b\u901f\u5ea6\uff0c\u8c03\u6574\u52a8\u753b\u603b\u4f53\u7684\u64ad\u653e\u901f\u7387\uff0c\u53ef\u5b9e\u73b0\u53d8\u901f\u3002"),Object(r.b)("li",{parentName:"ul"},"applyRootMotion\uff1a\u662f\u5426\u5c06\u52a8\u753b\u6570\u636e\u4e2d\u6839\u8282\u70b9\u7684\u53d8\u6362\u52a8\u753b\u5e94\u7528\u5230\u8be5\u7ec4\u4ef6\u5b9e\u4f53\u7684\u53d8\u6362\u7ec4\u4ef6\u4e0a"),Object(r.b)("li",{parentName:"ul"},"animations\uff1a\u8be5\u7ec4\u4ef6\u7684\u52a8\u753b\u8d44\u6e90\u5217\u8868"),Object(r.b)("li",{parentName:"ul"},"preferBaked: \u662f\u5426\u4f18\u5148\u4f7f\u7528\u9884\u70d8\u7119\u52a8\u753b\u6a21\u5f0f\uff0c\u9700\u8981\u70b9\u51fb ",Object(r.b)("inlineCode",{parentName:"li"},"\u786e\u5b9a")," \u6309\u94ae\u4fee\u6539\u8be5\u72b6\u6001\u3002")),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},"\u70b9\u51fbanimations\u53f3\u4fa7\u7684\u52a0\u53f7\uff0c\u6dfb\u52a0\u8be5\u6a21\u578b\u6240\u9700\u8981\u7684\u52a8\u753b\u3002\n",Object(r.b)("img",Object(a.a)({parentName:"li"},{src:"/egretpro/img/docs/guide/engine-features-animation/3.png",alt:"Animation\u7ec4\u4ef6\u793a\u4f8b2"}))),Object(r.b)("li",{parentName:"ol"},"\u5c06\u6a21\u578b\u52a0\u5165\u5230\u6240\u9700\u7684\u573a\u666f\u5f53\u4e2d\uff0c\u5373\u53ef\u9884\u89c8\u6548\u679c\u3002")),Object(r.b)("p",null,"\u5982\u679c\u52fe\u9009autoPlay\uff0c\u5219\u9ed8\u8ba4\u64ad\u653eanimations\u4e2d\u7684\u7b2c\u4e00\u4e2a\u52a8\u753b\uff0c\u5982\u679c\u9700\u8981\u5207\u6362\u52a8\u753b\uff0c\u53ef\u5728\u7ec4\u4ef6\u4e2d\u6839\u636e\u8d44\u6e90\u540d\u901a\u8fc7",Object(r.b)("inlineCode",{parentName:"p"},"play(animationClipName: string, playTimes: number)"),"\u65b9\u6cd5\u64ad\u653e"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'this.entity.getComponent(Animation).play("Dog_attack_0");\n')),Object(r.b)("h2",{id:"bakedanimation"},"BakedAnimation"),Object(r.b)("p",null,"\u7531\u4e8eAnimation\u52a8\u753b\u662f\u5b9e\u65f6\u8ba1\u7b97\u6a21\u578b\u9aa8\u9abc\u7684\u4f4d\u7f6e\u5e76\u8fdb\u884c\u6e32\u67d3\u7684\uff0c\u5728\u67d0\u4e9b\u914d\u7f6e\u8f83\u4f4e\u7684\u624b\u673a\u4e0a\u53ef\u80fd\u4f1a\u51fa\u73b0\u5361\u987f\u7684\u60c5\u51b5\u3002\u56e0\u6b64,EgretPro\u63d0\u4f9b\u4e00\u5957\u65b0\u7684\u52a8\u753b\u64ad\u653e\u673a\u5236\uff0c\u53ef\u63d0\u524d\u83b7\u53d6\u6bcf\u5e27\u52a8\u753b\u6570\u636e\u5e76\u8fdb\u884c\u6e32\u67d3\uff0c\u4e0eAnimation\u52a8\u753b\u57fa\u672c\u6ca1\u6709\u533a\u522b\uff0c\u63d0\u9ad8\u52a8\u753b\u6027\u80fd\u6700\u591a100%\u3002"),Object(r.b)("h3",{id:"bakedanimation\u6570\u636e\u751f\u6210"},"BakedAnimation\u6570\u636e\u751f\u6210"),Object(r.b)("p",null,"BakedAnimation\u6240\u9700\u6570\u636e\u9700\u8981\u5355\u72ec\u751f\u6210\u3002\u5728@egret/animation/Animation\u7ec4\u4ef6\u7684\u5c5e\u6027\u83dc\u5355\u4e2d\uff0cpreferBaked\u9009\u9879\u3002"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/4.png",alt:"\u6570\u636e\u751f\u6210\u6309\u94ae1"}))),Object(r.b)("p",null,"\u52fe\u9009\u540e\u51fa\u73b0\u9884\u70d8\u7119\u52a8\u753b\u9009\u9879\uff0c\u53ef\u4fee\u6539\u751f\u6210\u7684BakedAnimation\u7684\u64ad\u653e\u5e27\u9891\uff0c\u9ed8\u8ba4\u4e3a60\u5e27\u3002"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/4_1.png",alt:"\u6570\u636e\u751f\u6210\u6309\u94ae2"}))),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"\u7a7a")," \u4ee3\u8868\u5f53\u524d\u8fd8\u672a\u751f\u6210\u9884\u70d8\u7119\u6570\u636e\uff0c\u6216\u8005\u662f\u5f53\u524d\u76ee\u5f55\u7684\u9884\u70d8\u7119\u6570\u636e\u4e22\u5931\u3002"),Object(r.b)("p",null,"\u70b9\u51fb ",Object(r.b)("inlineCode",{parentName:"p"},"\u786e\u5b9a")," \u5e94\u7528\u5f53\u524d\u9009\u9879\uff0c\u82e5\u52fe\u9009\u4e86preferBaked\u5219\u4f1a\u751f\u6210\u9884\u70d8\u7119\u52a8\u753b\u6570\u636e\u3002"),Object(r.b)("p",null,"\u6b63\u5e38\u751f\u6210\u7684\u9884\u70d8\u7119\u6570\u636e\u4f1a\u5728baked\u76ee\u5f55\u4e0b\uff0c\n\u4ee5example\u9879\u76ee ",Object(r.b)("inlineCode",{parentName:"p"},"resource/assets/animations/BakedAnimation/Dog_standby_out"),"\u4e3e\u4f8b"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/4_2.png",alt:"\u6570\u636e\u751f\u6210\u6309\u94ae2"}))),Object(r.b)("p",null,"\u751f\u6210\u540e\u6570\u636e\u793a\u4f8b\u5982\u4e0b:"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/5.png",alt:"\u751f\u6210\u7684\u4f4d\u7f6e"}))),Object(r.b)("p",null,"\u5176\u4e2dbakedConfig.json\u4e3a\u9884\u70d8\u7119\u52a8\u753b\u7684\u914d\u7f6e\u6570\u636e\u3002\u5f15\u64ce\u627e\u5230\u8be5\u914d\u7f6e\u6587\u4ef6\u624d\u80fd\u4f7f\u7528\u9884\u70d8\u7119\u52a8\u753b\u3002"),Object(r.b)("p",null,"\u6b64\u65f6 EgretPro \u4e2d Animation\u7ec4\u4ef6\u5df2\u7ecf\u627e\u5230\u4e86 ",Object(r.b)("inlineCode",{parentName:"p"},"bakedConfig.json"),";"),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"/egretpro/img/docs/guide/engine-features-animation/6.png",alt:"Animation\u7ec4\u4ef6\u6f14\u793a"}))),Object(r.b)("p",null,"\u81f3\u6b64\uff0c\u9884\u70d8\u7119\u52a8\u753b\u6570\u636e\u751f\u6210\u5b8c\u6210\u3002"),Object(r.b)("h3",{id:"bakedanimation\u7684\u4f7f\u7528"},"BakedAnimation\u7684\u4f7f\u7528"),Object(r.b)("p",null,"\u4e0eAnimation\u7684\u4f7f\u7528\u65b9\u6cd5\u57fa\u672c\u4e00\u81f4\u3002\u5f00\u53d1\u8005\u53ea\u9700\u5c06\u5e26\u6709Animation\u7ec4\u4ef6\u7684\u52a8\u753b\u5bf9\u8c61\u653e\u5165\u573a\u666f\u5f53\u4e2d\u5373\u53ef\u3002\n\u5f15\u64ce\u4f1a\u6839\u636e ",Object(r.b)("inlineCode",{parentName:"p"},"preferBaked")," \u7684\u72b6\u6001,\u81ea\u52a8\u9009\u62e9\u52a0\u8f7d\u9884\u70d8\u7119\u52a8\u753b\u8fd8\u662f\u9ed8\u8ba4\u52a8\u753b\u3002"),Object(r.b)("p",null,"\u82e5\u4e0d\u60f3\u4f7f\u7528\u9884\u70d8\u7119\u52a8\u753b\uff0c\u53ea\u9700\u53d6\u6d88 ",Object(r.b)("inlineCode",{parentName:"p"},"preferBaked")," \u52fe\u9009\uff0c\u5e76\u70b9\u51fb\u786e\u5b9a\u5373\u53ef\u3002"))}u.isMDXComponent=!0},199:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return j}));var a=t(0),i=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=i.a.createContext({}),p=function(e){var n=i.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},u=function(e){var n=p(e.components);return i.a.createElement(l.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},O=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),u=p(t),m=a,O=u["".concat(o,".").concat(m)]||u[m]||d[m]||r;return t?i.a.createElement(O,c({ref:n},l,{components:t})):i.a.createElement(O,c({ref:n},l))}));function j(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=O;var c={};for(var b in n)hasOwnProperty.call(n,b)&&(c[b]=n[b]);c.originalType=e,c[m]="string"==typeof e?e:a,o[1]=c;for(var l=2;l<r;l++)o[l]=t[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}O.displayName="MDXCreateElement"}}]);