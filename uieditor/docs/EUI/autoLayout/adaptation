<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">屏幕适配 | Egret UI Editor</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="屏幕适配 | Egret UI Editor"><meta data-react-helmet="true" name="description" content="移动设备上存在各种分辨率的屏幕，如何能够使用一套代码写出适应各种分辨率屏幕的UI界面，显得尤为重要。完善的屏幕适配分为两个步骤：1.舞台尺寸(Stage.stageWidth,Stage.stageHeight)与设备屏幕的适配关系。2.内部UI界面与舞台尺寸的适配关系。通常所说的屏幕适配都只做到了第一步骤，也就是通过设置舞台的`scaleMode`属性来解决舞台尺寸，但是没有做第二个步骤，仍然无法达到预期效果。"><meta data-react-helmet="true" property="og:description" content="移动设备上存在各种分辨率的屏幕，如何能够使用一套代码写出适应各种分辨率屏幕的UI界面，显得尤为重要。完善的屏幕适配分为两个步骤：1.舞台尺寸(Stage.stageWidth,Stage.stageHeight)与设备屏幕的适配关系。2.内部UI界面与舞台尺寸的适配关系。通常所说的屏幕适配都只做到了第一步骤，也就是通过设置舞台的`scaleMode`属性来解决舞台尺寸，但是没有做第二个步骤，仍然无法达到预期效果。"><meta data-react-helmet="true" property="og:url" content="https://docs.egret.com/uieditor/uieditor/docs/EUI/autoLayout/adaptation">

<link data-react-helmet="true" rel="shortcut icon" href="/uieditor/img/favicon.ico">


<link rel="stylesheet" href="/uieditor/styles.5d6e52e7.css">


<link rel="preload" href="/uieditor/styles.8f72e72e.js" as="script">

<link rel="preload" href="/uieditor/runtime~main.601e3858.js" as="script">

<link rel="preload" href="/uieditor/main.3d64a56b.js" as="script">

<link rel="preload" href="/uieditor/1.47f875ca.js" as="script">

<link rel="preload" href="/uieditor/2.4521c2ad.js" as="script">

<link rel="preload" href="/uieditor/1be78505.91a18f70.js" as="script">

<link rel="preload" href="/uieditor/209.d4a11adb.js" as="script">

<link rel="preload" href="/uieditor/ca17d581.4f7aef3e.js" as="script">

<link rel="preload" href="/uieditor/17896441.88d00658.js" as="script">

<link rel="preload" href="/uieditor/9839b4dd.fc8a91ab.js" as="script">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/uieditor/"><img class="navbar__logo" src="/uieditor/img/logo.png" alt="Egret UI Logo"><strong class="navbar__title">Egret UI Editor</strong></a></div><div class="navbar__items navbar__items--right"><a activeclassname="navbar__link--active" to="https://egret.com/products" class="navbar__item navbar__link" href="https://egret.com/products">返回产品中心</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/uieditor/"><img class="navbar__logo" src="/uieditor/img/logo.png" alt="Egret UI Logo"><strong class="navbar__title">Egret UI Editor</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a activeclassname="navbar__link--active" to="https://egret.com/products" class="menu__link" href="https://egret.com/products">返回产品中心</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Egret UI Editor </a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">更新详情</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update1120">Egret UI Editor 1.12.0</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">历史更新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update1110">Egret UI Editor 1.11.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update1100">Egret UI Editor 1.10.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update190">Egret UI Editor 1.9.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update181">Egret UI Editor 1.8.1</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update180">Egret UI Editor 1.8.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update171">Egret UI Editor 1.7.1</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update170">Egret UI Editor 1.7.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update160">Egret UI Editor 1.6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/update/update150">Egret UI Editor 1.5.0</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">使用手册</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/introduction">Egret UI Editor 简介</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/install">下载安装和启动</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/ui">界面简介</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/setting">工具设置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/resdepot">资源管理器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/exmleditor">EXML 可视化编辑器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/uieditor/manual/animation">EXML 动画编辑器</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">EgretWing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/legacy-announcement">过期声明</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">更新详情</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update416">Egret Wing 4.1.6</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">历史更新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update415">Egret Wing 4.1.5</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update414">Egret Wing 4.1.4</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update413">Egret Wing 4.1.3</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update412">Egret Wing 4.1.2</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update411">Egret Wing 4.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update410">Egret Wing 4.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update403">Egret Wing 4.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update402">Egret Wing 4.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update401">Egret Wing 4.0.1</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update400">Egret Wing 4.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update326">Egret Wing 3.2.6</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update325">Egret Wing 3.2.5</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update324">Egret Wing 3.2.4</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update323">Egret Wing 3.2.3</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update322">Egret Wing 3.2.2</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update320">Egret Wing 3.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update318">Egret Wing 3.1.8</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update317">Egret Wing 3.1.7</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update316">Egret Wing 3.1.6</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update315">Egret Wing 3.1.5</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update314">Egret Wing 3.1.4</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update312">Egret Wing 3.1.2</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update311">Egret Wing 3.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update310">Egret Wing 3.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update3010">Egret Wing 3.0.10</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update309">Egret Wing 3.0.9</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update308">Egret Wing 3.0.8</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update307">Egret Wing 3.0.7</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update306">Egret Wing 3.0.6</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update305">Egret Wing 3.0.5</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update304">Egret Wing 3.0.4</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update303">Egret Wing 3.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update302">Egret Wing 3.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/update/update301">Egret Wing 3.0.1</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">使用手册</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/introduction">Wing简介</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/ui">界面介绍</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/projectHelper">项目助手</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/keys">快捷键设置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/codeEditor">代码编辑器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/exmlEditor">EXML可视化编辑器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/resdepot">资源编辑器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/login">登录</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/FTP">FTP</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/GIT">GIT</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/userConfig">用户设置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/workSpace">工作空间设置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/taskConfig">任务配置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/startUpConfig">启动配置</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/file">文件操作</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/search">全局搜索</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/terminal">终端</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/newProject">新建项目</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/breakpoint">断点调试</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/chromeDebug">chrome联机调试</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/buildInDisplayListDebug">内置显示列表调试器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/publish">发布</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/startUpProject">启动项目</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/compileProject">编译项目</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/compileEngine">编译引擎</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/resourceGenerationRule">设置资源生成规则</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/resourceDefaultFile">设置默认资源文件</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/clean">清理</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/wing/manual/debug">调试</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">EUI库</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">概述</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/outline/introduction">简介</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/outline/NewFeatures">新特性</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">快速入门</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/getStarted/getStarted">快速入门</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/getStarted/projectconfig">EUI项目配置</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">EXML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/EXML/useEXML">使用EXML</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/EXML/syntax1">EXML基本语法(一)</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/EXML/syntax2">EXML基本语法(二)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">皮肤</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/separate">皮肤分离机制</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/part">皮肤部件</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/state">视图状态</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/theme">配置主题</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/customizeSkin">自定义皮肤</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/skin/customizeRootDirectory">自定义加载根目录</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">自动布局</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/uieditor/docs/EUI/autoLayout/adaptation">屏幕适配</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/autoLayout/FailureToVerify">失效验证机制</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/autoLayout/layoutPrinciple">自动布局原理</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/autoLayout/asynchronous">解决异步问题</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/autoLayout/layoutDebug">自动布局调试</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">使用布局类</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/useLayout/basiclayout">基本布局</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/useLayout/horizontallayout">水平布局</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/useLayout/verticallayout">垂直布局</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/useLayout/titlelayout">网格布局</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/useLayout/customlayout">自定义布局</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">控件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/label">文本</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/image">图片</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/button">按钮</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/checkbox">复选框</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/radioButton">单选框</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/togglebutton">状态切换按钮</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/slider">滑动选择器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/progressBar">进度条</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/controls/textInput">输入文本</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">容器</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/container/group">简单容器( Group )</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/container/viewStack">层叠容器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/container/panel">面板容器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/container/scroller">滚动控制容器</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">数据集合</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/dataCollection/dataGroup">数据容器</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/dataCollection/arrayCollection">数组集合</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/dataCollection/list">列表</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/dataCollection/tabBar">选项卡</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/dataCollection/itemRenderer">自定义项呈示器</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">进阶技巧</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/advancedSkills/useComponents">在EXML中使用自定义组件</a></li><li class="menu__list-item"><a class="menu__link" href="/uieditor/docs/EUI/advancedSkills/style">style 使用</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">屏幕适配</h1></header><div class="markdown"><p>移动设备上存在各种分辨率的屏幕，如何能够使用一套代码写出适应各种分辨率屏幕的UI界面，显得尤为重要。完善的屏幕适配分为两个步骤：1.舞台尺寸(Stage.stageWidth,Stage.stageHeight)与设备屏幕的适配关系。2.内部UI界面与舞台尺寸的适配关系。通常所说的屏幕适配都只做到了第一步骤，也就是通过设置舞台的<code>scaleMode</code>属性来解决舞台尺寸，但是没有做第二个步骤，仍然无法达到预期效果。</p><p>而在 EUI 库里，通过引入自适应流式布局（简称自动布局），能够解决第二步骤的屏幕适配问题。下面是一个屏幕适配的示例：</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-typescript codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Main</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">egret</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Sprite</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">constructor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">egret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ADDED_TO_STAGE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">onAddToStage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">onAddToStage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">egret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> uiLayer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">eui</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">UILayer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">eui</span><span class="token class-name punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">UILayer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addChild</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uiLayer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> exmlText </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">&lt;e:Group width=&quot;100%&quot; height=&quot;100%&quot; xmlns:e=&quot;http://ns.egret.com/eui&quot;&gt; &lt;e:Image source=&quot;image/header-background.png&quot; fillMode=&quot;repeat&quot; width=&quot;100%&quot; height=&quot;90&quot;/&gt; &lt;e:Label horizontalCenter=&quot;0&quot; top=&quot;25&quot; text=&quot;Alert&quot;/&gt; &lt;e:Button skinName=&quot;skins.BackButtonSkin&quot; top=&quot;16&quot; left=&quot;16&quot; label=&quot;Back&quot;/&gt; &lt;e:Group width=&quot;100%&quot; top=&quot;90&quot; bottom=&quot;0&quot;&gt; &lt;e:Button skinName=&quot;skins.ButtonSkin&quot; horizontalCenter=&quot;0&quot; verticalCenter=&quot;0&quot; label=&quot;Show Alert&quot;/&gt; &lt;/e:Group&gt; &lt;/e:Group&gt;</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> exmlClass </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">EXML</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">exmlText</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">eui</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Group</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">exmlClass</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        uiLayer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addChild</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Main是程序的入口类，在Main被添加到舞台时，开始创建一系列的子项：首先要创建一个<code>UILayer</code>，它是UI的根容器，它的宽高会自动跟舞台宽高保持一致，起到最外层的自适应作用。然后使用EXML快速实例化一些列的组件，简便起见，这里直接将EXML的内容嵌入到代码中，（请参考<a href="/uieditor/docs/EUI/EXML/useEXML">如何使用EXML</a>的 <code>嵌入EXML到代码</code> 一节）。下面简单介绍EXML里实例化的内容：</p><p>(1)标题栏背景:显式设置高度为90像素，宽度设置为父级容器的100%(percentWidth = 100)，也就是始终跟uiStage一样宽。</p><p>(2)标题文本:垂直方向距离顶部25像素(top = 25，这里等同于直接设置y=25)。水平方向居中(horizontalCenter = 0)。</p><p>(3)返回按钮:垂直方向距离顶部16像素，水平方向距离左边16像素。同理，这里也可以直接设置x = y = 16。这里请先忽略<code>skinName</code>属性的细节，我们直接引用了一个类名是 <code>skins.BackButtonSkin</code> 的按钮皮肤。</p><p>(4)内容容器:水平方向宽度跟父级容器保持一致(percentWidth = 100),注意下垂直方向，距离顶部90像素且距离底部0像素(top = 90,bottom = 0)，也就是说它的高度会被拉伸，以填满父级 y = 90 至最底部的区域。最终效果就是contentGroup始终覆盖除了标题栏的区域。</p><p>(5)”Show Alert”按钮：这个按钮被添加到了内容容器里，他的水平位置和垂直位置都相对contentGroup居中。</p><p>这样定义布局规则后，无论舞台尺寸变成什么比例，最终的显示效果都会自动适应。这能有效解决移动开发中的各种屏幕分辨率适配问题。运行结果大致如下图：</p><p><img src="/uieditor/img/docs/EUI/autoLayout/adaptation/55cdd4a39b2ab.jpg"></p><p>自动布局不仅能解决屏幕分辨率适配问题，同样也是皮肤复用的基石。使用自动布局的皮肤，能够自动适应各种逻辑组件尺寸，自动调整内部皮肤部件的位置，从而最大程度上复用皮肤。</p><p>关于流式结构，我们以上面的代码为例：”Show Alert”按钮在contentGroup中，contentGroup在根Group中，根Group在UILayer中。当舞台尺寸发生改变时，最外层的UILayer就会调整自己的宽度跟舞台保持一致，然后由于根Group设置了宽高100%，也会主动跟UILayer保持一致。再往内就会去调整contentGroup的尺寸，从而contentGroup再刷新布局调整”Show Alert”按钮的位置，始终保持居中。整个是UI的显示列表就是这样一个结构，一处发生改变，与其相关联组件的位置尺寸都会自动刷新。并且这个自动刷新过程无需担心频繁的计算消耗，因为自动布局使用了<code>失效验证</code>的机制来提供强力的性能保障。下一节内容中我们将会详细讲解这部分内容。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/uieditor/docs/EUI/skin/customizeRootDirectory"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« 自定义加载根目录</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/uieditor/docs/EUI/autoLayout/FailureToVerify"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">失效验证机制 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">开源项目</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-core" href="https://github.com/egret-labs/egret-core">白鹭引擎源码</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-game-library" href="https://github.com/egret-labs/egret-game-library">第三方库</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-examples" href="https://github.com/egret-labs/egret-examples">代码示例</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs" href="https://github.com/egret-labs">更多开源项目</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">产品相关</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://docs.egret.com/engine">下载引擎</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="http://developer.egret.com">文档中心</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">获得帮助</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="http://bbs.egret.com/forum-94-1.html" href="http://bbs.egret.com/forum-94-1.html">论坛技术问答</a></li><li class="footer__item"><a class="footer__link-item">技术支持：support@egret.com</a></li></ul></div></div><div class="text--center"><div>Copyright © 2014-2021 Egret Technology</div></div></div></footer>
</div>

<script src="/uieditor/styles.8f72e72e.js"></script>

<script src="/uieditor/runtime~main.601e3858.js"></script>

<script src="/uieditor/main.3d64a56b.js"></script>

<script src="/uieditor/1.47f875ca.js"></script>

<script src="/uieditor/2.4521c2ad.js"></script>

<script src="/uieditor/1be78505.91a18f70.js"></script>

<script src="/uieditor/209.d4a11adb.js"></script>

<script src="/uieditor/ca17d581.4f7aef3e.js"></script>

<script src="/uieditor/17896441.88d00658.js"></script>

<script src="/uieditor/9839b4dd.fc8a91ab.js"></script>



        <script>
            var _mtac = {"senseQuery":1};
            (function() {
                var mta = document.createElement("script");
                mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
                mta.setAttribute("name", "MTAH5");
                mta.setAttribute("sid", "500714313");
                mta.setAttribute("cid", "500714314");
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(mta, s);
            })();
            setTimeout(()=>{
                MtaH5.clickStat("uieditor")
            },1000)
        </script>
        </body>
</html>